import RPi.GPIO as GPIO
from time import sleep

class StepperMotor:
    def __init__(self, enable_pin, step_pin, dir_pin):
        """docstring for ."""
        self.enable_pin = enable_pin
        self.step_pin = step_pin
        self.dir_pin = dir_pin
        GPIO.setwarnings(False)
        GPIO.setmode(GPIO.BCM)
        GPIO.setup(enable_pin, GPIO.OUT)
        GPIO.setup(step_pin, GPIO.OUT)
        GPIO.setup(dir_pin, GPIO.OUT)
        ##self.delay = .005/microsteps --> 1/32 step --> self.delay = 0.005/32
        self.delay = .0001/1 #0.005

    def enable(self, enable):
        GPIO.output(self.enable_pin, not enable)

    def run(self, steps, clockwise):
        GPIO.output(self.dir_pin, clockwise)
        for i in range(steps):
            GPIO.output(self.step_pin, GPIO.HIGH)
            sleep(self.delay)
            GPIO.output(self.step_pin, GPIO.LOW)
            sleep(self.delay)
